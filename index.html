<!doctype html>
<html>

<head>
  <title>Line Chart</title>



  <style>
    canvas{
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
    }
  </style>
  <script>
    arr =[0,0];
    chrtinfo=[0];
    chrtinfo.pop();
  </script>
</head>

<body>
<div style="width:75%;">
  <canvas id="myChart" width="800" height="450"></canvas>

</div>

<canvas id="line-chart" width="800" height="450"></canvas>
<input type="file" onchange="loadFile(this.files[0])">
<input type="button" title="Affiche" style="width: 100px" onclick="afficharr()">
<br>
<pre id="output"></pre>
<script>


  async function loadFile(file) {
    //let text = await file.text();
    document.getElementById('output').textContent = await file.text();

  }
  function afficharr(){

    for (f=0;f<(arr[0].length)-1;f++) {
      for (t = 0; t < (arr[0].length)-1; t++) {
        console.log(arr[0][f].split(",")[t],t,f);
        chrtinfo.push(arr[0][f].split(",")[t]);

      }
    }
    renschart()
  }
  function renschart() {
    for (f=0;f<6;f++) {
      myChart2.data.labels.push(chrtinfo[f][0]);
      myChart2.data.datasets[1].data.push(chrtinfo[f][1]);
      myChart2.data.datasets[2].data.push(chrtinfo[f][2]);
      myChart2.data.datasets[3].data.push(chrtinfo[f][3]);
      myChart2.data.datasets[4].data.push(chrtinfo[f][4]);
      myChart2.data.datasets[5].data.push(chrtinfo[f][5]);
      myChart2.data.datasets[6].data.push(chrtinfo[f][6]);

    }




    for (f=0;f<arr[1].length;f++) {
      myChart2.data.datasets[f].label=arr[1][f];
    }


  myChart2.update();
  }

</script>

</body>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.bundle.min.js"></script>
<script type="text/javascript" src='js/vendor/csvToArray.js'></script>
<script type="text/javascript" src='traitDonn.js'></script>


<script src="line.js"></script>
</html>
